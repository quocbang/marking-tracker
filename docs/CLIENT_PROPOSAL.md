# Äá» Xuáº¥t: Há»‡ Thá»‘ng Theo DÃµi Thá»i Gian Cháº¥m BÃ i

---

## ğŸ“‹ Tá»•ng Quan Giáº£i PhÃ¡p

### Má»¥c TiÃªu
XÃ¢y dá»±ng há»‡ thá»‘ng theo dÃµi **thá»i gian thá»±c táº¿** mÃ  giÃ¡o viÃªn/ngÆ°á»i cháº¥m dÃ nh Ä‘á»ƒ cháº¥m má»™t bÃ i táº­p trÃªn Google Docs, giÃºp:
- âœ… Äo lÆ°á»ng hiá»‡u suáº¥t cháº¥m bÃ i chÃ­nh xÃ¡c
- âœ… PhÃ¢n tÃ­ch nÄƒng suáº¥t lÃ m viá»‡c
- âœ… CÃ´ng báº±ng trong Ä‘Ã¡nh giÃ¡ vÃ  phÃ¢n cÃ´ng khá»‘i lÆ°á»£ng cÃ´ng viá»‡c
- âœ… CÃ³ dá»¯ liá»‡u Ä‘á»ƒ cáº£i thiá»‡n quy trÃ¬nh

### CÃ¡ch Hoáº¡t Äá»™ng ÄÆ¡n Giáº£n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. NgÆ°á»i cháº¥m nháº­n link tracking                           â”‚
â”‚     ğŸ‘‰ https://tracking.example.com/?name=Thai&doc=...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Trang web hiá»ƒn thá»‹ Google Doc trong iframe             â”‚
â”‚     â±ï¸  Tá»± Ä‘á»™ng báº¯t Ä‘áº§u Ä‘áº¿m thá»i gian khi cÃ³ hoáº¡t Ä‘á»™ng     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Há»‡ thá»‘ng theo dÃµi thá»i gian ACTIVE                      â”‚
â”‚     âœ“ Chá»‰ Ä‘áº¿m khi ngÆ°á»i dÃ¹ng thá»±c sá»± lÃ m viá»‡c             â”‚
â”‚     âœ“ KhÃ´ng Ä‘áº¿m khi chuyá»ƒn tab hoáº·c Ä‘á»ƒ mÃ¡y                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Káº¿t thÃºc session vÃ  lÆ°u dá»¯ liá»‡u
â”‚     â€¢ Cáº­p nháº­t status "ÄÃ£ chá»¯a" trÃªn Google Sheet          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ TÃ­nh NÄƒng ChÃ­nh

### 1. **Theo DÃµi Thá»i Gian ChÃ­nh XÃ¡c**
- Chá»‰ Ä‘áº¿m thá»i gian khi ngÆ°á»i dÃ¹ng **thá»±c sá»± hoáº¡t Ä‘á»™ng**
- PhÃ¡t hiá»‡n: di chuá»™t, gÃµ phÃ­m, scroll, click, focus vÃ o document
- KhÃ´ng Ä‘áº¿m thá»i gian khi chuyá»ƒn tab, rá»i khá»i mÃ n hÃ¬nh hoáº·c khÃ´ng hoáº¡t Ä‘á»™ng

### 2. **Há»— Trá»£ Reload Trang**
- NgÆ°á»i cháº¥m cÃ³ thá»ƒ reload/refresh trang báº¥t cá»© lÃºc nÃ o
- Session **khÃ´ng bá»‹ máº¥t**, thá»i gian tiáº¿p tá»¥c tÃ­ch lÅ©y
- Thoáº£i mÃ¡i lÃ m viá»‡c mÃ  khÃ´ng lo máº¥t dá»¯ liá»‡u

### 3. **Káº¿t ThÃºc Tá»± Äá»™ng**
- **CÃ¡ch 1**: NgÆ°á»i dÃ¹ng nháº¥n nÃºt "Finish" trÃªn trang
- **CÃ¡ch 2**: Tá»± Ä‘á»™ng káº¿t thÃºc khi cáº­p nháº­t status "ÄÃ£ chá»¯a" trÃªn Google Sheet
- Linh hoáº¡t, khÃ´ng báº¯t buá»™c pháº£i Ä‘Ã³ng trang thá»§ cÃ´ng

### 4. **Dashboard & BÃ¡o CÃ¡o**
- LÆ°u trá»¯ dá»¯ liá»‡u trÃªn Google Sheets (dá»… truy cáº­p, dá»… phÃ¢n tÃ­ch)
- CÃ¡c metrics quan trá»ng:
  - â±ï¸ Thá»i gian active (phÃºt)
  - ğŸ“Š Tá»· lá»‡ active/total time (%)
  - ğŸ“… Thá»i gian báº¯t Ä‘áº§u/káº¿t thÃºc
  - ğŸ‘¤ TÃªn ngÆ°á»i cháº¥m, link document

### 5. **Báº£o Máº­t & Chá»‘ng Gian Láº­n**
- Session ID cÃ³ chá»¯ kÃ½ HMAC (khÃ´ng thá»ƒ giáº£ máº¡o)
- Server tá»± tÃ­nh thá»i gian (khÃ´ng tin client)
- Session chá»‰ dÃ¹ng 1 láº§n (khÃ´ng thá»ƒ submit nhiá»u láº§n)
- Giá»›i háº¡n tá»‘i Ä‘a 12 giá» (sanity check)
- Há»— trá»£ HTTPS toÃ n bá»™

### 6. **Dá»… Sá»­ Dá»¥ng**
- KhÃ´ng cáº§n cÃ i Ä‘áº·t, Ä‘Äƒng nháº­p, hay pháº§n má»m
- Chá»‰ cáº§n click vÃ o link â†’ báº¯t Ä‘áº§u lÃ m viá»‡c
- Giao diá»‡n Ä‘Æ¡n giáº£n, khÃ´ng gÃ¢y phiá»n nhiá»…u
- Hoáº¡t Ä‘á»™ng trÃªn má»i trÃ¬nh duyá»‡t hiá»‡n Ä‘áº¡i

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

### ThÃ nh Pháº§n ChÃ­nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (GitHub Pages)                    â”‚
â”‚  â€¢ Tracking page vá»›i custom domain                           â”‚
â”‚  â€¢ Hiá»ƒn thá»‹ Google Doc trong iframe                          â”‚
â”‚  â€¢ Detect hoáº¡t Ä‘á»™ng ngÆ°á»i dÃ¹ng                               â”‚
â”‚  â€¢ Gá»­i heartbeat má»—i 5 giÃ¢y                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTPS API Calls
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (n8n Workflows)                    â”‚
â”‚  â€¢ Workflow 1: /start (táº¡o session)                          â”‚
â”‚  â€¢ Workflow 2: /heartbeat (cáº­p nháº­t thá»i gian)              â”‚
â”‚  â€¢ Workflow 3: /end (káº¿t thÃºc & tÃ­nh toÃ¡n)                  â”‚
â”‚  â€¢ Workflow 4: Status Monitor (tá»± Ä‘á»™ng káº¿t thÃºc)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Read/Write
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STORAGE (Google Sheets)                    â”‚
â”‚  â€¢ Sheet "Sessions": tracking sessions Ä‘ang cháº¡y            â”‚
â”‚  â€¢ Sheet "Completed": káº¿t quáº£ cuá»‘i cÃ¹ng                     â”‚
â”‚  â€¢ Sheet "BÃ i Cháº¥m": quáº£n lÃ½ danh sÃ¡ch bÃ i cáº§n cháº¥m        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

| ThÃ nh Pháº§n | CÃ´ng Nghá»‡ | LÃ½ Do |
|------------|-----------|-------|
| **Frontend** | HTML/CSS/JavaScript | ÄÆ¡n giáº£n, khÃ´ng cáº§n build process |
| **Hosting** | GitHub Pages + Custom Domain | Miá»…n phÃ­, reliable, HTTPS tá»± Ä‘á»™ng |
| **Backend** | n8n Workflows (Webhooks) | Serverless, visual workflow, dá»… maintain |
| **Storage** | Google Sheets | Dá»… truy cáº­p, khÃ´ng cáº§n setup database |
| **Security** | HMAC signing, Session validation | Chá»‘ng gian láº­n cÆ¡ báº£n |

---

## ğŸ“… Timeline & Deliverables

### Thá»i Gian Thá»±c Hiá»‡n: **~5 NgÃ y LÃ m Viá»‡c**

| NgÃ y | CÃ´ng Viá»‡c | Chi Tiáº¿t |
|------|-----------|----------|
| **NgÃ y 1-2** | **Setup & Core Features** | â€¢ Setup GitHub Pages + Custom domain<br>â€¢ Táº¡o tracking page cÆ¡ báº£n<br>â€¢ Implement 3 workflows chÃ­nh (start/heartbeat/end)<br>â€¢ Setup Google Sheets storage |
| **NgÃ y 3-4** | **Advanced Features & Security** | â€¢ Implement Status Monitor workflow<br>â€¢ Activity detection (mouse, keyboard, focus)<br>â€¢ Session signing vá»›i HMAC<br>â€¢ Validation & error handling<br>â€¢ Testing cÃ¡c edge cases |
| **NgÃ y 5** | **Polish & Handover** | â€¢ UI improvements & finish button<br>â€¢ Google Sheets dashboard/reports<br>â€¢ Documentation<br>â€¢ Final testing & bug fixes<br>â€¢ Handover & demo |

### Estimate Chi Tiáº¿t

```
Tá»•ng thá»i gian: 35 giá»
PhÃ¢n bá»•:
  â€¢ Frontend development: 10 giá»
  â€¢ n8n workflows (4 workflows): 12 giá»
  â€¢ Security & validation: 6 giá»
  â€¢ Testing & bug fixes: 4 giá»
  â€¢ Documentation & handover: 3 giá»
```

---

## ğŸ“¦ Sáº£n Pháº©m BÃ n Giao

### âœ… Deliverables

1. **Tracking System HoÃ n Chá»‰nh**
   - Tracking page vá»›i custom domain (e.g., `tracking.example.com`)
   - Responsive design, hoáº¡t Ä‘á»™ng trÃªn mobile/desktop
   - Favicon vÃ  branding

2. **Backend Workflows**
   - 4 n8n workflows Ä‘Ã£ import vÃ  test
   - Webhook endpoints Ä‘Ã£ configure
   - Session management logic

3. **Google Sheets Dashboard**
   - Sheet "Sessions" Ä‘á»ƒ theo dÃµi realtime
   - Sheet "Completed" vá»›i metrics Ä‘áº§y Ä‘á»§
   - Sample data vÃ  pivot tables

4. **Documentation**
   - HÆ°á»›ng dáº«n sá»­ dá»¥ng cho ngÆ°á»i cháº¥m bÃ i
   - Technical documentation cho admin
   - Troubleshooting guide

5. **Source Code**
   - GitHub repository vá»›i full source code
   - README vá»›i setup instructions
   - Comments trong code

---

## ğŸ”§ YÃªu Cáº§u Chuáº©n Bá»‹ Tá»« KhÃ¡ch HÃ ng

### Cáº§n CÃ³ TrÆ°á»›c Khi Báº¯t Äáº§u:

1. **n8n Instance**
   - n8n Cloud account (recommended) HOáº¶C
   - Self-hosted n8n instance vá»›i public URL
   - Quyá»n táº¡o workflows vÃ  webhooks

2. **Google Account**
   - Äá»ƒ táº¡o vÃ  quáº£n lÃ½ Google Sheets
   - Quyá»n chia sáº» sheets vá»›i n8n service account

3. **Domain Name**
   - Domain Ä‘Ã£ Ä‘Äƒng kÃ½ (e.g., `example.com`)
   - Quyá»n truy cáº­p DNS settings Ä‘á»ƒ thÃªm CNAME record

4. **Google Sheet "BÃ i Cháº¥m"**
   - Sheet vá»›i cáº¥u trÃºc:
     - Column: `sessionId` (sáº½ Ä‘Æ°á»£c auto-fill)
     - Column: `Tráº¡ng ThÃ¡i` (giÃ¡ trá»‹: "ÄÃ£ chá»¯a" Ä‘á»ƒ trigger auto-end)
     - CÃ¡c columns khÃ¡c theo nhu cáº§u

---

### LÆ°u Ã Chi PhÃ­

- âœ… **Bao gá»“m**: Development, testing, documentation, source code
- âœ… **Bao gá»“m**: Custom domain setup vÃ  configuration
- âŒ **KhÃ´ng bao gá»“m**: Ongoing maintenance, hosting costs, training sessions
- âŒ **KhÃ´ng bao gá»“m**: Chi phÃ­ n8n Cloud subscription (náº¿u chá»n Cloud)
- âŒ **KhÃ´ng bao gá»“m**: Domain registration fee

---

## ğŸ“ HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng (TÃ³m Táº¯t)

### Cho NgÆ°á»i Cháº¥m BÃ i:

1. **Nháº­n link tracking** tá»« Google Sheet "BÃ i Cháº¥m"
   - Link Ä‘Ã£ Ä‘Æ°á»£c táº¡o sáºµn trong sheet
   - Chá»‰ cáº§n click vÃ o link Ä‘á»ƒ báº¯t Ä‘áº§u
   ```
   https://tracking.example.com/?name=YourName&doc=GoogleDocURL
   ```

2. **Click vÃ o link** â†’ trang web tá»± Ä‘á»™ng má»Ÿ vá»›i Google Doc bÃªn trong

3. **LÃ m viá»‡c bÃ¬nh thÆ°á»ng**:
   - Äá»c, sá»­a, comment trÃªn document
   - CÃ³ thá»ƒ reload trang báº¥t cá»© lÃºc nÃ o (session khÃ´ng máº¥t)
   - Thá»i gian chá»‰ Ä‘áº¿m khi báº¡n thá»±c sá»± hoáº¡t Ä‘á»™ng

4. **Káº¿t thÃºc**:   
   - **Option 1**: Cáº­p nháº­t status "ÄÃ£ chá»¯a" trÃªn Sheet â†’ tá»± Ä‘á»™ng káº¿t thÃºc

### Cho Admin:

1. **Táº¡o tracking link** cho má»—i bÃ i cáº§n cháº¥m
2. **Monitor realtime** trÃªn Google Sheet "Sessions"
3. **Xem káº¿t quáº£** trÃªn Sheet "Completed" sau khi hoÃ n thÃ nh
4. **PhÃ¢n tÃ­ch dá»¯ liá»‡u** vá»›i pivot tables hoáº·c export sang tools khÃ¡c

---

## ğŸ”’ Báº£o Máº­t & Privacy

### CÃ¡c Biá»‡n PhÃ¡p Báº£o Máº­t

- ğŸ” **HTTPS everywhere**: Má»i connection Ä‘á»u mÃ£ hÃ³a
- ğŸ« **Session signing**: HMAC Ä‘á»ƒ chá»‘ng giáº£ máº¡o session
- â±ï¸ **Server-side calculation**: KhÃ´ng tin client vá» thá»i gian
- ğŸš« **Single-use sessions**: Má»—i session chá»‰ submit 1 láº§n
- ğŸ“Š **Sanity checks**: Giá»›i háº¡n thá»i gian tá»‘i Ä‘a, detect anomalies
- ğŸ” **Audit logs**: LÆ°u IP, UserAgent Ä‘á»ƒ phÃ¡t hiá»‡n suspicious activities

## âš¡ Äiá»ƒm Máº¡nh & Lá»£i Ãch

### Lá»£i Ãch Cho Tá»• Chá»©c

âœ… **Äo lÆ°á»ng hiá»‡u suáº¥t chÃ­nh xÃ¡c**
- Biáº¿t Ä‘Æ°á»£c thá»i gian thá»±c táº¿ Ä‘á»ƒ cháº¥m má»—i bÃ i
- Dá»¯ liá»‡u Ä‘á»ƒ tá»‘i Æ°u quy trÃ¬nh cháº¥m bÃ i

âœ… **CÃ´ng báº±ng trong phÃ¢n cÃ´ng**
- PhÃ¢n bá»• cÃ´ng viá»‡c dá»±a trÃªn nÄƒng lá»±c thá»±c táº¿
- TrÃ¡nh overload hoáº·c underutilize

âœ… **Cáº£i thiá»‡n quy trÃ¬nh**
- PhÃ¡t hiá»‡n bottlenecks
- Identify cÃ¡c bÃ i khÃ³/dá»…
- Training insights

âœ… **Chi phÃ­ tháº¥p**
- KhÃ´ng cáº§n server riÃªng
- Sá»­ dá»¥ng tools miá»…n phÃ­/ráº» (GitHub Pages, Google Sheets)
- Dá»… maintain, khÃ´ng cáº§n DevOps chuyÃªn sÃ¢u

### Äiá»ƒm Máº¡nh Ká»¹ Thuáº­t

âœ… **ÄÆ¡n giáº£n & Reliable**
- Ãt moving parts â†’ Ã­t bugs
- Proven technologies
- Easy to debug

âœ… **Scalable**
- CÃ³ thá»ƒ nÃ¢ng cáº¥p lÃªn database khi cáº§n
- Support hundreds of concurrent sessions

âœ… **Maintainable**
- n8n visual workflows dá»… hiá»ƒu, dá»… sá»­a
- Clear code structure
- Well documented
